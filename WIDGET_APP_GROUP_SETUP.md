# Widget Extension App Group Setup

## Problem
The build failed because the widget extension's App ID doesn't have the App Group enabled. The provisioning profile needs to include the App Group entitlement.

## Solution: Configure App Group in Apple Developer Portal

### Step 1: Access Apple Developer Portal
1. Go to https://developer.apple.com/account
2. Sign in with your Apple Developer account
3. Navigate to **Certificates, Identifiers & Profiles**

### Step 2: Find/Create Widget Extension App ID
1. Click **Identifiers** in the left sidebar
2. Search for `com.lifesetwellbeing.lifeset.widget`
3. **If it doesn't exist:**
   - Click the **+** button
   - Select **App IDs** → Continue
   - Select **App** → Continue
   - Description: `LifeSet Widget Extension`
   - Bundle ID: `com.lifesetwellbeing.lifeset.widget` (Explicit)
   - Capabilities: Check **App Groups**
   - Continue → Register

### Step 3: Enable App Group for Widget Extension
1. Click on the widget extension App ID (`com.lifesetwellbeing.lifeset.widget`)
2. Scroll down to **App Groups**
3. Click **Configure** or **Edit**
4. **Enable** the App Group: `group.com.lifesetwellbeing.lifeset`
5. Click **Save**

### Step 4: Verify Main App Has App Group
1. Find your main app identifier: `com.lifesetwellbeing.lifeset`
2. Verify it also has `group.com.lifesetwellbeing.lifeset` enabled
3. If not, enable it the same way

### Step 5: Create/Verify App Group
1. Go to **Identifiers** → **App Groups**
2. Search for `group.com.lifesetwellbeing.lifeset`
3. **If it doesn't exist:**
   - Click **+** button
   - Description: `LifeSet App Group`
   - Identifier: `group.com.lifesetwellbeing.lifeset`
   - Continue → Register

### Step 6: Rebuild
After enabling the App Group for the widget extension App ID, rebuild:

```bash
eas build --profile development --platform ios
```

EAS Build will automatically regenerate provisioning profiles with the App Group included.

## Important Notes

- **Both App IDs must have the same App Group enabled:**
  - Main app: `com.lifesetwellbeing.lifeset`
  - Widget extension: `com.lifesetwellbeing.lifeset.widget`
  - Both need: `group.com.lifesetwellbeing.lifeset`

- **Provisioning profiles are auto-generated by EAS Build**, but they need the App Group to be enabled on the App ID first.

- **If you see "App Group not found"**, make sure you created the App Group identifier first, then enabled it on both App IDs.

## Troubleshooting

If the build still fails after enabling the App Group:

1. **Wait 5-10 minutes** - Apple's systems need time to propagate changes
2. **Check App Group is enabled** on both App IDs
3. **Verify the App Group identifier exists** in the App Groups section
4. **Try a clean build**: `eas build --profile development --platform ios --clear-cache`

